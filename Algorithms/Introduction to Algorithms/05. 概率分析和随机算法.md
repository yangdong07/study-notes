## 概率分析

概率分析是在问题的分析中应用概率技术。
大多数情况下，使用概率分析来分析一个算法的运行时间，有时候也分析其他的量，比如雇用问题中的雇佣费用问题。

## 随机算法
确定性算法：对于一个确定的输入，算法的行为是确定的（包括运行时间估计、执行次数、耗费资源等）

随机算法： 如果一个算法的行为不只是由输入决定，同时也由随机数生成器所产生的数值决定，则称这个算法是**随机**的

例如在雇用问题中，在确定性算法里，对确定的输入，算法执行得到的雇佣次数是确定的。
在随机算法里，首先对输入进行随机排序，这样，对同一个输入，算法执行得到的雇佣次数是不确定的，但是符合期望。此外，也会避免最坏情况的输入。


## 指示器随机变量
indicator random variable

给定一个样本空间 $S$ 和事件 $A$，那么事件$A$对应的**指示器随机变量** $I\{A\}$ 定义为：
$$
\begin{equation}
I\{A\}= \left\{
\begin{array}{l}
1 \quad 如果A发生\\
0 \quad 如果A不发生\\
\end{array} \right.
\end{equation}
$$

**引理5.1** 给定样本空间 $S$ 和 $S$中的事件 $A$，令 $X_A = I\{A\} $，则 $E[X_A] = Pr\{A\} $



### 随机排列数组

#### PERMUTE-BY-SORTING
给数组每个元素一个随机优先级，按照优先级排序。

#### 原地排序： RANDOMIZE-IN-PLACE
在第 $i$ 次迭代时， 元素$A[i]$是从 $A[i..n]$中随机选取的。



## 概率分析和指示器随机变量的一些应用
只记一些结论

### 生日悖论
一个房间里的人数必须达到多少，才能使有两个人生日相同的机会达到50%？
记 一年天数 $n = 365 $，答案为 $\Theta(n)$
至少23人。
思路：
1. 概率分析： 先计算所有人生日互不相同的概率公式。
2. 指示器随机变量

### 球与盒子
很多问题
赠券收集者问题（coupon collector's problem），一个人要集齐 $b$种不同赠券的每一种，大约要有 $b\ln{b} $张随机得到的赠券才能成功。

### 序列
抛一枚均匀硬币 $n$ 次，期望看到连续正面的最长序列有多长？
答案是 $\Theta(\lg{n}) $

### 在线雇用问题
雇用策略变化：
在面试一个应聘者之后，给一个分数。假设所有应聘者有不同分数。
在面试 $k$ 个应聘者之后，取最大分数。但是都不雇用。
在接下来的面试中，如果有分数高于最大分数，则雇用。如果没有，则雇用最后一个。

问题是，如何选择 $k$ 使得雇用到最好的应聘者的概率最大？
答案： $k = n/e$ 时， 可以以至少 $1/e$的概率，雇用到最好的应聘者。
